<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
		"-//Apache Software Foundation//DTD Struts Configuration 2.5//EN"
		"http://struts.apache.org/dtds/struts-2.5.dtd">

<struts>
	<constant name="struts.custom.i18n.resources" value="global" />
	<constant name="struts.devMode" value="true" />
	<constant name="struts.thymeleaf.templateMode" value="HTML5"/>
	<constant name="struts.thymeleaf.encoding" value="UTF-8"/>
	<constant name="struts.thymeleaf.prefix" value="/jsp/"/>
	<constant name="struts.thymeleaf.suffix" value=".html"/>
	<constant name="struts.thymeleaf.cacheable" value="true"/>
	<constant name="struts.thymeleaf.cacheTtlMillis" value="3600000"/>
	
	<bean type="org.codework.struts.plugins.thymeleaf.spi.TemplateEngineProvider" name="default" class="org.codework.struts.plugins.thymeleaf.spi.DefaultTemplateEngineProvider" />

	<package name="park-default" extends="struts-default">
        <!--  -->
        <result-types>
            <result-type name="thymeleaf" class="org.codework.struts.plugins.thymeleaf.ThymeleafResult"/>
        </result-types>	
        
		<!-- setup the default-stack exception mapping interceptor 
 		so that any exceptions not caught by this application 
 		will be logged and then handled by the global exception 
 		mapping 
 		also modify the params interceptor so it excludes 
 		request attributes that start with session or request-->
 		<interceptors>
	 		<interceptor-stack name="appDefault">
	        	 <interceptor-ref name="defaultStack">
	      			<param name="exception.logEnabled">true</param>
	      			<param name="exception.logLevel">ERROR</param>
	      			<param name="params.excludeParams">dojo\..*,^struts\..*,^session\..*,^request\..*,^application\..*,^servlet(Request|Response)\..*,parameters\...*</param>
	   			</interceptor-ref>
	 	    </interceptor-stack>
		</interceptors>
		
		<default-interceptor-ref name="appDefault" />

        <!-- If no class attribute is specified the framework will assume success and 
        render the result index.jsp -->
        <!-- If no name value for the result node is specified the success value is the default -->
		<action name="index">
			<result>/index.jsp</result>
		</action>

<!-- 
 
		<action name="thyme" class="com.niyaowin.park.action.ThymeAction" method="execute">
			<result name="success" type="thymeleaf">thyme</result>
		</action>
		
				<action name="thyme" class="com.niyaowin.park.action.ThymeAction" method="execute">
			<result name="success" type="thymeleaf">thyme</result>
		</action>
 -->		
		<!-- If the URL is hello.action the call the execute method of class HelloWorldAction.
		If the result returned by the execute method is success render the HelloWorld.jsp -->
		<action name="hello" class="com.niyaowin.park.action.HelloWorldAction" method="execute">
			<result name="success">/HelloWorld.jsp</result>
		</action>

	</package>

</struts>